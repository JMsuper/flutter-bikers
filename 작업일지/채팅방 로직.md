# 채팅방 로직
조건1 : 채팅방에 첫 시작은 상품 상세화면에서 '거래하기' 버튼 클릭<br>
조건2 : 만약 user가 이미 해당 상품에 관하여 판매자와 채팅을 했었으면 이미 존재하는 해당 채팅방으로 이동<br>
조건3 : 그렇지 않다면, 새로운 채팅방을 만든다.<br>
채팅방은 서버에서 db에 먼저 채팅방을 만든다. -> 생성된 채팅방의 고유ID를 받는다. -> 고유ID를 Room 이름으로 삼는다.<br>
문제 : 채팅창에 들어간 이후 사용자가 어떠한 말도 하지 않은 채 채팅방을 나가게 되면 해당 채팅방을 없애야 한다.<br>
so, 채팅메시지를 처음 보내게 된 순간 db에 채팅방데이터가 생성되어야 한다.<br>
<br>
이를 가능케 하기 위해, 메시지를 보내는 함수가 실행될 때,<br>
1) db에 채팅룸을 만든다. <br>
2) 해당 채팅룸의 ID를 소켓 Room 이름으로 삼고 채팅방에 들어간다. <br>
3) 해당 채팅룸에서 메시지를 전달하고, 해당 메시지를 db에 저장한다.<br>

### client의 네트워크 문제 해결
client에서 네트워크 문제로 인해 소켓 연결을 받지 못할 수 있다.
예를 들어, 채팅방에 들어가 채팅하고 있는데 네트워크 문제로 데이터를 수신받지 못할 수 있다.
서버에서는 client의 네트워크 문제가 발생한뒤 약 10초뒤에 disconnect를 감지하고 있다.
그런데 만약, 이 10초 동안 상대방이 채팅메시지를 전송할 경우 아직 disconnect되지 않은 상태로 인식하여
메시지를 수신하지 못했음에도 수신처리 될 수 있다.
이를 방지하기 위해 서버에서는 client의 네트워크 문제를 즉시 감지해야 한다. 하지만 이것은 불가능하다.
그렇기 때문에 클라이언트에서 채팅방에 참석한 인원을 관리하는 것은 버그의 가능성이 크다.
